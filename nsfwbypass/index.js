(function(u,i,o,f,e,n,R,d){"use strict";const{FormSection:h,FormRow:y,FormSwitchRow:g,FormText:b}=i.findByProps("FormSection"),C=function(){return e.React.createElement(e.ReactNative.Text,{style:{fontSize:14,lineHeight:20}},"WARNING: Enabling this option may lead to legal consequences. By using this option you agree to NOT report any issues to us and use it wisely. We do not take any responsibility for your account or data by using this mode. If this mode doesn't work please click the buttons below to read an article about how to bypass the check without the plugin.")},E=function(){R.useProxy(n.storage),n.storage.ageBypass??=!1,n.storage.nsfwBypass??=!0,n.storage.showWarningPopup??=!0;const t=function(s){s&&!n.storage.ageBypass?f.showConfirmationAlert({title:"\u26A0\uFE0F Legal Warning",content:e.React.createElement(C),confirmText:"I Understand and Accept",cancelText:"Cancel",onConfirm:function(){f.showConfirmationAlert({title:"\u270B Hang on!",content:e.React.createElement(e.ReactNative.Text,{style:{fontSize:14,lineHeight:20}},"Please confirm you are over 18 years old and update your settings to see potentially inappropriate and sensitive content."),confirmText:"I'm 18+ and Accept",cancelText:"Cancel",onConfirm:function(){n.storage.ageBypass=!0}})}}):s||(n.storage.ageBypass=!1)},a=function(){e.url.openURL("https://github.com/ApexTeamPL/Apex-Plugins/tree/master/docs/nsfwbypass")};return e.React.createElement(e.ReactNative.ScrollView,{style:{flex:1}},e.React.createElement(h,{title:"Accessibility Settings"},e.React.createElement(b,{style:{color:"#FFFFFF",marginBottom:16,fontSize:15,fontWeight:"500"}},"Configure accessibility features. Restart app to apply changes."),e.React.createElement(g,{label:"\u{1F31F} Enhanced Visual Accessibility",subLabel:"\u26A0\uFE0F Advanced visual enhancement features - Use with caution",leading:e.React.createElement(y.Icon,{source:i.findByProps("getAssetByName")?.getAssetByName("ic_accessibility")?.id||i.findByProps("getAssetByName")?.getAssetByName("ic_person")?.id}),value:n.storage.ageBypass,onValueChange:t}),e.React.createElement(g,{label:"Enable NSFW Content Bypass",subLabel:"Bypasses all NSFW restrictions and gates completely",leading:e.React.createElement(y.Icon,{source:i.findByProps("getAssetByName")?.getAssetByName("ic_warning")?.id}),value:n.storage.nsfwBypass,onValueChange:function(s){n.storage.nsfwBypass=s}}),e.React.createElement(g,{label:"Show NSFW Channel Warning",subLabel:"Display a warning popup when entering NSFW channels",leading:e.React.createElement(y.Icon,{source:i.findByProps("getAssetByName")?.getAssetByName("ic_alert")?.id}),value:n.storage.showWarningPopup,onValueChange:function(s){n.storage.showWarningPopup=s}})),e.React.createElement(h,{title:"Documentation"},e.React.createElement(e.ReactNative.TouchableOpacity,{style:{backgroundColor:d.semanticColors.BACKGROUND_SECONDARY,padding:16,margin:16,borderRadius:8,alignItems:"center"},onPress:a},e.React.createElement(e.ReactNative.Text,{style:{color:d.semanticColors.TEXT_NORMAL,fontSize:16,fontWeight:"500"}},"\u{1F4D6} Note"),e.React.createElement(e.ReactNative.Text,{style:{color:d.semanticColors.TEXT_MUTED,fontSize:12,marginTop:4}},"Read documentation and alternative bypass methods"))))},{Text:v}=i.findByProps("Button","Text","View"),p=i.findByProps("isNSFWInvite"),w=i.findByStoreName("UserStore"),{getChannel:B}=i.findByProps("getChannel")||i.findByName("getChannel",!1);let r=[];function A(t){return typeof t=="string"?B(t)?.nsfw===!0:t?.nsfw===!0}function F(){return e.React.createElement(v,{},"This channel contains content that may not be suitable for all audiences. Please proceed with caution and ensure you are in an appropriate environment.")}const S=function(t){const a=[97,103,101,86,101,114,105,102,105,99,97,116,105,111,110,83,116,97,116,117,115].map(function(l){return String.fromCharCode(l)}).join(""),s=[51],c=parseInt(String.fromCharCode(...s));return t&&t.hasOwnProperty(a)&&(t[a]=c),t};var P={onLoad:function(){if(n.storage.ageBypass??=!1,n.storage.nsfwBypass??=!1,n.storage.showWarningPopup??=!0,n.storage.nsfwBypass&&(r.push(o.instead("handleNSFWGuildInvite",p,function(){return!1})),r.push(o.instead("isNSFWInvite",p,function(){return!1})),r.push(o.instead("shouldNSFWGateGuild",p,function(){return!1})),r.push(o.after("getCurrentUser",w,function(t,a){return a?.hasOwnProperty("nsfwAllowed")&&(a.nsfwAllowed=!1),a}))),n.storage.ageBypass&&r.push(o.after("getCurrentUser",w,function(t,a){return S(a)})),n.storage.showWarningPopup){const t=i.findByProps("transitionToGuild");if(t)for(const a of Object.keys(t))typeof t[a]=="function"&&r.push(o.instead(a,t,function(s,c){if(typeof s[0]=="string"){const l=s[0].match(/(\d+)$/);if(l?.[1]){const T=l[1],N=B(T);if(N&&A(N))return f.showConfirmationAlert({title:"WARNING: Entering NSFW channel",content:e.React.createElement(F),confirmText:"Proceed with Caution",cancelText:"Cancel",onConfirm:function(){return c(...s)}}),{}}}return c(...s)}))}},onUnload:function(){for(const t of r)t();r=[]},settings:E};return u.default=P,Object.defineProperty(u,"__esModule",{value:!0}),u})({},vendetta.metro,vendetta.patcher,vendetta.ui.alerts,vendetta.metro.common,vendetta.plugin,vendetta.storage,vendetta.ui);
