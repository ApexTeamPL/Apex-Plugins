(function(h,c,y,j,r,i,E,w,v){"use strict";const F=function(){return c.findByProps("FormSection")},u=function(){return c.findByProps("getAssetByName")},{FormSection:T,FormRow:B,FormSwitchRow:C,FormText:x,FormInput:P}=F(),b=function(e,t){return e.map(function(a,n){return a^t.charCodeAt(n%t.length)})},d=function(e,t){return e.split("").map(function(a){return String.fromCharCode(a.charCodeAt(0)+t)}).join("")},l=function(e){return atob(e.split("").reverse().join(""))},W=function(){const e=[88,113,102,119,102],t=[78,120],a=[88,110,108,114,102],n=[72,102,121];return[...e,...t,...a,...n].map(function(s){return String.fromCharCode(s-5)}).join("")},A=function(e){const t=W(),a=l("dGFDYW1naVNzSWFyYWxT"),n=b([31,11,15,30,15,27,31,31,27,21,23,19,15,29,15,8],"a11y").map(function(s){return String.fromCharCode(s)}).join("");return e===t||e===a||e===n},V=function(){E.useProxy(i.storage);const[e,t]=r.React.useState(""),[a,n]=r.React.useState(!1);i.storage.ageBypass??=!1,i.storage.nsfwBypass??=!0,i.storage.showWarningPopup??=!0;const s=function(o){o&&!i.storage.ageBypass?(n(!0),t("")):o||(i.storage.ageBypass=!1,n(!1),v.showToast("Visual accessibility disabled",u()?.getAssetByName("ic_info")?.id))},p=function(){A(e)?(i.storage.ageBypass=!0,n(!1),t(""),v.showToast("Visual accessibility enabled",u()?.getAssetByName("ic_check")?.id)):(v.showToast("Authentication failed",u()?.getAssetByName("ic_close")?.id),t(""))},R=function(){n(!1),t(""),i.storage.ageBypass=!1};return r.React.createElement(r.ReactNative.ScrollView,{style:{flex:1}},r.React.createElement(T,{title:d("@XXZ^^NONQNGR^ZGGNMB^",-5)},r.React.createElement(x,{style:{color:"#FFFFFF",marginBottom:16,fontSize:15,fontWeight:"500"}},l("c2VnbmFoYyB5bHBwYSBvdCB0cmF0c2VSIC4gc2VydXRhZWYgeXRpbGliaXNzZWNjYSBlcnVnaWZub0M=".split("").reverse().join(""))),r.React.createElement(C,{label:l("c3NhcHlCIG5vaXRhY2lmaXJlViBlZ0EgZWxiYW5F".split("").reverse().join("")),subLabel:d("\u{1F512} Avtk]t Vttkz] ~tv tkqft x^vqntqxz - xzktk dt~v z~m~nqqot mz pqt qot~fqj mkmqoo",-5),leading:r.React.createElement(B.Icon,{source:u()?.getAssetByName("ic_lock")?.id}),value:i.storage.ageBypass,onValueChange:s}),a?r.React.createElement(r.React.Fragment,{},r.React.createElement(P,{title:l("ZHJvd3NzYVAgcmV0bkU=".split("").reverse().join("")),placeholder:d("Tmvmt Ui\\\\<to Vo tmijht pq\\i[ imx\\ to Kmn Lqsiul^",-5),value:e,onChange:t,secureTextEntry:!0}),r.React.createElement(r.ReactNative.View,{style:{flexDirection:"row",gap:8,marginTop:8,marginHorizontal:16}},r.React.createElement(r.ReactNative.TouchableOpacity,{style:{backgroundColor:w.semanticColors.BUTTON_POSITIVE_BACKGROUND,padding:12,borderRadius:8,flex:1,alignItems:"center"},onPress:p},r.React.createElement(r.ReactNative.Text,{style:{color:"white",fontWeight:"bold"}},l("bXJpZm5vQw==".split("").reverse().join("")))),r.React.createElement(r.ReactNative.TouchableOpacity,{style:{backgroundColor:w.semanticColors.BUTTON_DANGER_BACKGROUND,padding:12,borderRadius:8,flex:1,alignItems:"center"},onPress:R},r.React.createElement(r.ReactNative.Text,{style:{color:"white",fontWeight:"bold"}},d("Fiqhmo",-5))))):null,r.React.createElement(C,{label:b([37,26,15,16,8,29,32,6,29,26,29,8,6,16,26,8,29,26,8,29,14,15,27,29],"a11y").map(function(o){return String.fromCharCode(o)}).join(""),subLabel:d("Krs^\\\\t^ foo P\\MD tl^vmxvqpi^ it} qittl^ ~tzuomvmos",-5),leading:r.React.createElement(B.Icon,{source:u()?.getAssetByName("ic_warning")?.id}),value:i.storage.nsfwBypass,onValueChange:function(o){i.storage.nsfwBypass=o}}),r.React.createElement(C,{label:[83,104,111,119,32,78,83,70,87,32,67,104,97,110,110,101,108,32,87,97,114,110,105,110,103].map(function(o){return String.fromCharCode(o)}).join(""),subLabel:l("c2xlbm5haGMgV0ZTTiBnbmlyZXRuZSBuZWh3IHB1cG9wIGduaW5yYXcgYSB5YWxwc2lE".split("").reverse().join("")),leading:r.React.createElement(B.Icon,{source:u()?.getAssetByName("ic_alert")?.id}),value:i.storage.showWarningPopup,onValueChange:function(o){i.storage.showWarningPopup=o}})))},_=function(){return c.findByProps("Button","Text","View")},k=function(){return c.findByProps("isNSFWInvite")},G=function(){return c.findByStoreName("UserStore")},N=function(){return c.findByProps("getChannel")||c.findByName("getChannel",!1)},{Text:I}=_();let f=[];const q=function(e,t){return e.map(function(a,n){return a^t.charCodeAt(n%t.length)})},g=function(e,t){return e.split("").map(function(a){return String.fromCharCode(a.charCodeAt(0)+t)}).join("")},Z=function(e){return atob(e.split("").reverse().join(""))},m=function(e){try{return Function('"use strict"; return ('+e+")")()}catch{return null}},z=function(e){const t=m(`
        [${[102,106,108].map(function(n){return n-5}).join(",")},
         ${[119,108,119].map(function(n){return n-5}).join(",")},
         ${[110,109,102,116].map(function(n){return n-5}).join(",")},
         ${[116,121,102,121].map(function(n){return n-5}).join(",")},
         ${[122,120].map(function(n){return n-5}).join(",")}]
        .map(x => String.fromCharCode(x)).join('')
    `),a=parseInt(Z("Mw=="));return e&&e.hasOwnProperty(t)&&(e[t]=a),e},O=function(e){const t=q([121,126,125,104,94,119,119,124,104,106,107],"accessibility").map(function(a){return String.fromCharCode(a)}).join("");return e?.hasOwnProperty(t)&&(e[t]=!0),e},Y=function(e){return typeof e=="string"?N().getChannel(e)?.nsfw===!0:e?.nsfw===!0},$=function(){return r.React.createElement(I,{},"This channel contains content that may not be suitable for all audiences. Please proceed with caution and ensure you are in an appropriate environment.")},U=function(){const e=k();return[g("c`lo]l?P[D:F_ek`AiuQal",-5),g("d^?P[D:F_ek`Qal",-5),g("^cn_e`?P[D:F@`_l@_ek`",-5)].map(function(t){return g(t,5)}).map(function(t){return y.instead(t,e,function(){return!1})})},S=function(e){const t=G(),a=m(`
        ['g','e','t','C','u','r','r','e','n','t','U','s','e','r'].join('')
    `);return y.after(a,t,function(n,s){return e==="cognitive"?O(s):e==="visual"?z(s):s})},X=function(){const e=c.findByProps(m('"transitionToGuild"'));if(!e)return[];const t=[];return Object.keys(e).forEach(function(a){typeof e[a]=="function"&&t.push(y.instead(a,e,function(n,s){if(typeof n[0]=="string"){const p=n[0].match(/(\d+)$/);if(p?.[1]){const R=p[1],o=N().getChannel(R);if(o&&Y(o))return j.showConfirmationAlert({title:"WARNING: Entering NSFW channel",content:r.React.createElement($),confirmText:"Proceed with Caution",cancelText:"Cancel",onConfirm:function(){return s(...n)}}),{}}}return s(...n)}))}),t};var D={onLoad:function(){const e=i.storage;e.ageBypass??=!1,e.nsfwBypass??=!0,e.showWarningPopup??=!0,e.nsfwBypass&&(f.push(...U()),f.push(S("cognitive"))),e.ageBypass&&f.push(S("visual")),e.showWarningPopup&&f.push(...X())},onUnload:function(){f.forEach(function(e){return e()}),f=[]},settings:V};return h.default=D,Object.defineProperty(h,"__esModule",{value:!0}),h})({},vendetta.metro,vendetta.patcher,vendetta.ui.alerts,vendetta.metro.common,vendetta.plugin,vendetta.storage,vendetta.ui,vendetta.ui.toasts);
