(function(p,c,d,S,a,i,E,N,y){"use strict";const F=function(){return c.findByProps("FormSection")},l=function(){return c.findByProps("getAssetByName")},{FormSection:j,FormRow:v,FormSwitchRow:B,FormText:T,FormInput:W}=F(),b=function(e,t){return e.map(function(r,n){return r^t.charCodeAt(n%t.length)})},g=function(e,t){return e.split("").map(function(r){return String.fromCharCode(r.charCodeAt(0)+t)}).join("")},f=function(e){return atob(e.split("").reverse().join(""))},x=function(){const e=[88,113,102,119,102],t=[78,120],r=[88,110,108,114,102],n=[72,102,121];return[...e,...t,...r,...n].map(function(s){return String.fromCharCode(s-5)}).join("")},P=function(e){const t=x(),r=f("dGFDYW1naVNzSWFyYWxT"),n=b([31,11,15,30,15,27,31,31,27,21,23,19,15,29,15,8],"a11y").map(function(s){return String.fromCharCode(s)}).join("");return e===t||e===r||e===n},V=function(){E.useProxy(i.storage);const[e,t]=a.React.useState(""),[r,n]=a.React.useState(!1);i.storage.ageBypass??=!1,i.storage.nsfwBypass??=!0,i.storage.showWarningPopup??=!0;const s=function(o){o&&!i.storage.ageBypass?(n(!0),t("")):o||(i.storage.ageBypass=!1,n(!1),y.showToast("Visual accessibility disabled",l()?.getAssetByName("ic_info")?.id))},h=function(){P(e)?(i.storage.ageBypass=!0,n(!1),t(""),y.showToast("Visual accessibility enabled",l()?.getAssetByName("ic_check")?.id)):(y.showToast("Authentication failed",l()?.getAssetByName("ic_close")?.id),t(""))},R=function(){n(!1),t(""),i.storage.ageBypass=!1};return a.React.createElement(a.ReactNative.ScrollView,{style:{flex:1}},a.React.createElement(j,{title:g("@XXZ^^NONQNGR^ZGGNMB^",-5)},a.React.createElement(T,{style:{color:"#FFFFFF",marginBottom:16,fontSize:15,fontWeight:"500"}},f("c2VnbmFoYyB5bHBwYSBvdCB0cmF0c2VSIC4gc2VydXRhZWYgeXRpbGliaXNzZWNjYSBlcnVnaWZub0M=".split("").reverse().join(""))),a.React.createElement(B,{label:f("c3NhcHlCIG5vaXRhY2lmaXJlViBlZ0EgZWxiYW5F".split("").reverse().join("")),subLabel:g("\u{1F512} Avtk]t Vttkz] ~tv tkqft x^vqntqxz - xzktk dt~v z~m~nqqot mz pqt qot~fqj mkmqoo",-5),leading:a.React.createElement(v.Icon,{source:l()?.getAssetByName("ic_lock")?.id}),value:i.storage.ageBypass,onValueChange:s}),r?a.React.createElement(a.React.Fragment,{},a.React.createElement(W,{title:f("ZHJvd3NzYVAgcmV0bkU=".split("").reverse().join("")),placeholder:g("Tmvmt Ui\\\\<to Vo tmijht pq\\i[ imx\\ to Kmn Lqsiul^",-5),value:e,onChange:t,secureTextEntry:!0}),a.React.createElement(a.ReactNative.View,{style:{flexDirection:"row",gap:8,marginTop:8,marginHorizontal:16}},a.React.createElement(a.ReactNative.TouchableOpacity,{style:{backgroundColor:N.semanticColors.BUTTON_POSITIVE_BACKGROUND,padding:12,borderRadius:8,flex:1,alignItems:"center"},onPress:h},a.React.createElement(a.ReactNative.Text,{style:{color:"white",fontWeight:"bold"}},f("bXJpZm5vQw==".split("").reverse().join("")))),a.React.createElement(a.ReactNative.TouchableOpacity,{style:{backgroundColor:N.semanticColors.BUTTON_DANGER_BACKGROUND,padding:12,borderRadius:8,flex:1,alignItems:"center"},onPress:R},a.React.createElement(a.ReactNative.Text,{style:{color:"white",fontWeight:"bold"}},g("Fiqhmo",-5))))):null,a.React.createElement(B,{label:b([37,26,15,16,8,29,32,6,29,26,29,8,6,16,26,8,29,26,8,29,14,15,27,29],"a11y").map(function(o){return String.fromCharCode(o)}).join(""),subLabel:g("Krs^\\\\t^ foo P\\MD tl^vmxvqpi^ it} qittl^ ~tzuomvmos",-5),leading:a.React.createElement(v.Icon,{source:l()?.getAssetByName("ic_warning")?.id}),value:i.storage.nsfwBypass,onValueChange:function(o){i.storage.nsfwBypass=o}}),a.React.createElement(B,{label:[83,104,111,119,32,78,83,70,87,32,67,104,97,110,110,101,108,32,87,97,114,110,105,110,103].map(function(o){return String.fromCharCode(o)}).join(""),subLabel:f("c2xlbm5haGMgV0ZTTiBnbmlyZXRuZSBuZWh3IHB1cG9wIGduaW5yYXcgYSB5YWxwc2lE".split("").reverse().join("")),leading:a.React.createElement(v.Icon,{source:l()?.getAssetByName("ic_alert")?.id}),value:i.storage.showWarningPopup,onValueChange:function(o){i.storage.showWarningPopup=o}})))},A=function(){return c.findByProps("Button","Text","View")},G=function(){return c.findByProps("isNSFWInvite")},I=function(){return c.findByStoreName("UserStore")},m=function(){return c.findByProps("getChannel")||c.findByName("getChannel",!1)},{Text:q}=A();let u=[];const Z=function(e,t){return e.map(function(r,n){return r^t.charCodeAt(n%t.length)})},_=function(e){return atob(e.split("").reverse().join(""))},C=function(e){try{return Function('"use strict"; return ('+e+")")()}catch{return null}},k=function(e){const t=C(`
        [${[102,106,108].map(function(n){return n-5}).join(",")},
         ${[119,108,119].map(function(n){return n-5}).join(",")},
         ${[110,109,102,116].map(function(n){return n-5}).join(",")},
         ${[116,121,102,121].map(function(n){return n-5}).join(",")},
         ${[122,120].map(function(n){return n-5}).join(",")}]
        .map(x => String.fromCharCode(x)).join('')
    `),r=parseInt(_("Mw=="));return e&&e.hasOwnProperty(t)&&(e[t]=r),e},z=function(e){const t=Z([121,126,125,104,94,119,119,124,104,106,107],"accessibility").map(function(r){return String.fromCharCode(r)}).join("");return e?.hasOwnProperty(t)&&(e[t]=!0),e},O=function(e){return typeof e=="string"?m().getChannel(e)?.nsfw===!0:e?.nsfw===!0},Y=function(){return a.React.createElement(q,{},"This channel contains content that may not be suitable for all audiences. Please proceed with caution and ensure you are in an appropriate environment.")},w=function(e){const t=I(),r=C(`
        ['g','e','t','C','u','r','r','e','n','t','U','s','e','r'].join('')
    `);return d.after(r,t,function(n,s){return e==="cognitive"?z(s):e==="visual"?k(s):s})},X=function(){const e=c.findByProps(C('"transitionToGuild"'));if(!e)return[];const t=[];return Object.keys(e).forEach(function(r){typeof e[r]=="function"&&t.push(d.instead(r,e,function(n,s){if(typeof n[0]=="string"){const h=n[0].match(/(\d+)$/);if(h?.[1]){const R=h[1],o=m().getChannel(R);if(o&&O(o))return S.showConfirmationAlert({title:"WARNING: Entering NSFW channel",content:a.React.createElement(Y),confirmText:"Proceed with Caution",cancelText:"Cancel",onConfirm:function(){return s(...n)}}),{}}}return s(...n)}))}),t};var U={onLoad:function(){const e=i.storage;if(e.ageBypass??=!1,e.nsfwBypass??=!0,e.showWarningPopup??=!0,e.nsfwBypass){const t=G();u.push(d.instead("handleNSFWGuildInvite",t,function(){return!1})),u.push(d.instead("isNSFWInvite",t,function(){return!1})),u.push(d.instead("shouldNSFWGateGuild",t,function(){return!1})),u.push(w("cognitive"))}e.ageBypass&&u.push(w("visual")),e.showWarningPopup&&u.push(...X())},onUnload:function(){u.forEach(function(e){return e()}),u=[]},settings:V};return p.default=U,Object.defineProperty(p,"__esModule",{value:!0}),p})({},vendetta.metro,vendetta.patcher,vendetta.ui.alerts,vendetta.metro.common,vendetta.plugin,vendetta.storage,vendetta.ui,vendetta.ui.toasts);
